<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Expense Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: rgba(255, 255, 255, 0.95);
            color: #2c3e50;
            padding: 20px 0;
            text-align: center;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }
        .date-display {
            font-size: 1.2rem;
            font-weight: 500;
            color: #3498db;
        }
        .month-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #9b59b6;
        }
        .app-title {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .expense-form-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .expense-list-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
            font-size: 1.8rem;
        }
        .form-group {
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
        }
        input, select {
            width: 100%;
            padding: 14px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
            background: #f8f9fa;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            background: white;
        }
        .btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }
        .btn-edit {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            padding: 10px 18px;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }
        .btn-edit:hover {
            box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
        }
        .btn-delete {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            padding: 10px 18px;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }
        .btn-delete:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }
        .btn-update {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            padding: 10px 18px;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }
        .btn-update:hover {
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }
        .btn-cancel {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
            padding: 10px 18px;
            font-size: 0.9rem;
            box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);
        }
        .btn-cancel:hover {
            box-shadow: 0 6px 20px rgba(149, 165, 166, 0.4);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        tr:hover {
            background-color: #ecf0f1;
            transform: scale(1.01);
            transition: transform 0.2s;
        }
        .total-expenses {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            border-radius: 10px;
            text-align: center;
            font-weight: 700;
            color: white;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        .empty-state {
            text-align: center;
            padding: 50px 0;
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        .edit-form {
            background: rgba(236, 240, 241, 0.8);
            padding: 25px;
            border-radius: 10px;
            margin-top: 15px;
            border: 2px solid #bdc3c7;
        }
        .edit-form h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        .edit-form-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        .category-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            color: white;
        }
        .category-food { background-color: #e74c3c; }
        .category-transport { background-color: #3498db; }
        .category-shopping { background-color: #9b59b6; }
        .category-entertainment { background-color: #f39c12; }
        .category-bills { background-color: #1abc9c; }
        .category-health { background-color: #e67e22; }
        .category-travel { background-color: #34495e; }
        .category-education { background-color: #16a085; }
        .category-movies { background-color: #8e44ad; }
        .category-housing { background-color: #d35400; }
        .category-personal { background-color: #27ae60; }
        .category-gifts { background-color: #c0392b; }
        .category-other { background-color: #7f8c8d; }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            .action-buttons {
                flex-direction: column;
            }
            .edit-form-buttons {
                flex-direction: column;
            }
            .app-title {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="date-display" id="currentDate">Loading...</div>
                <div class="app-title">Personal Expense Tracker</div>
                <div class="month-display" id="currentMonth">Loading...</div>
            </div>
        </header>
        <div class="expense-form-container">
            <h2>Add New Expense</h2>
            <form id="expenseForm">
                <div class="form-group">
                    <label for="expenseName">Expense Name</label>
                    <input type="text" id="expenseName" placeholder="eg. movie, Healthcare.." required>
                </div>
                <div class="form-group">
                    <label for="expenseAmount">Amount</label>
                    <input type="number" id="expenseAmount" placeholder="0.00" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="expenseCategory">Category</label>
                    <select id="expenseCategory" required>
                        <option value="" disabled selected>Select a category</option>
                        <option value="Food & Dining">Food & Dining</option>
                        <option value="Transportation">Transportation</option>
                        <option value="Shopping">Shopping</option>
                        <option value="Entertainment">Entertainment</option>
                        <option value="Bills & Utilities">Bills & Utilities</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Travel">Travel</option>
                        <option value="Education">Education</option>
                        <option value="Movies">Movies</option>
                        <option value="Housing">Housing</option>
                        <option value="Personal Care">Personal Care</option>
                        <option value="Gifts & Donations">Gifts & Donations</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expenseDate">Date</label>
                    <input type="date" id="expenseDate" required>
                </div>
                <button type="submit" class="btn">Add Expense</button>
            </form>
        </div>
        <div class="expense-list-container">
            <h2>Expense History</h2>
            <div id="expenseList">
                <div class="empty-state">
                    No expenses added yet. Start by adding your first expense!
                </div>
            </div>
            <div class="total-expenses" id="totalExpenses">
                Total Expenses: $0.00
            </div>
        </div>
        <div class="expense-list-container" id="editExpenseSection" style="display: none;">
            <h2>Edit Expense</h2>
            <div id="editExpenseForm" class="edit-form">
            </div>
        </div>
        <div class="expense-list-container" id="editExpenseTableSection" style="display: none;">
            <h2>Edit Expenses</h2>
            <div id="editExpenseTable">
            </div>
        </div>
    </div>
    <script>
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', options);
            document.getElementById('currentMonth').textContent = now.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
        }
        document.getElementById('expenseDate').valueAsDate = new Date();
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
        let editingIndex = -1;
        function getCategoryClass(category) {
            const categoryMap = {
                'Food & Dining': 'category-food',
                'Transportation': 'category-transport',
                'Shopping': 'category-shopping',
                'Entertainment': 'category-entertainment',
                'Bills & Utilities': 'category-bills',
                'Healthcare': 'category-health',
                'Travel': 'category-travel',
                'Education': 'category-education',
                'Movies': 'category-movies',
                'Housing': 'category-housing',
                'Personal Care': 'category-personal',
                'Gifts & Donations': 'category-gifts',
                'Other': 'category-other'
            };
            return categoryMap[category] || 'category-other';
        }
        function displayExpenses() {
            const expenseList = document.getElementById('expenseList');
            const totalExpenses = document.getElementById('totalExpenses');
            
            if (expenses.length === 0) {
                expenseList.innerHTML = '<div class="empty-state">No expenses added yet. Start by adding your first expense!</div>';
                totalExpenses.textContent = 'Total Expenses: $0.00';
                return;
            }
            let tableHTML = `
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Amount</th>
                            <th>Category</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            let total = 0;
            expenses.forEach((expense, index) => {
                total += parseFloat(expense.amount);
                const categoryClass = getCategoryClass(expense.category);
                tableHTML += `
                    <tr>
                        <td>${expense.name}</td>
                        <td>$${parseFloat(expense.amount).toFixed(2)}</td>
                        <td><span class="category-badge ${categoryClass}">${expense.category}</span></td>
                        <td>${new Date(expense.date).toLocaleDateString()}</td>
                    </tr>
                `;
            });
            tableHTML += `
                    </tbody>
                </table>
            `;

            expenseList.innerHTML = tableHTML;
            totalExpenses.textContent = `Total Expenses: $${total.toFixed(2)}`;
            displayEditTable();
        }
        function displayEditTable() {
            const editExpenseTable = document.getElementById('editExpenseTable');
            const editExpenseTableSection = document.getElementById('editExpenseTableSection');
            
            if (expenses.length === 0) {
                editExpenseTableSection.style.display = 'none';
                return;
            }
            editExpenseTableSection.style.display = 'block';
            
            let tableHTML = `
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Amount</th>
                            <th>Category</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
                        expenses.forEach((expense, index) => {
                const categoryClass = getCategoryClass(expense.category);
                tableHTML += `
                    <tr>
                        <td>${expense.name}</td>
                        <td>$${parseFloat(expense.amount).toFixed(2)}</td>
                        <td><span class="category-badge ${categoryClass}">${expense.category}</span></td>
                        <td>${new Date(expense.date).toLocaleDateString()}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-edit" onclick="editExpense(${index})">Edit</button>
                                <button class="btn btn-delete" onclick="deleteExpense(${index})">Delete</button>
                            </div>
                        </td>
                    </tr>
                `;
            });
            tableHTML += `
                    </tbody>
                </table>
            `;

            editExpenseTable.innerHTML = tableHTML;
        }
        document.getElementById('expenseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('expenseName').value;
            const amount = document.getElementById('expenseAmount').value;
            const category = document.getElementById('expenseCategory').value;
            const date = document.getElementById('expenseDate').value;
            
            const newExpense = {
                name,
                amount,
                category,
                date
            };
            expenses.push(newExpense);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            
            displayExpenses();
            document.getElementById('expenseForm').reset();
            document.getElementById('expenseDate').valueAsDate = new Date();
        });
        function editExpense(index) {
            editingIndex = index;
            const expense = expenses[index];
            
            const editFormHTML = `
                <h3>Edit Expense: ${expense.name}</h3>
                <div class="form-group">
                    <label for="editExpenseName">Expense Name</label>
                    <input type="text" id="editExpenseName" value="${expense.name}" placeholder="Enter expense name" required>
                </div>
                <div class="form-group">
                    <label for="editExpenseAmount">Amount</label>
                    <input type="number" id="editExpenseAmount" value="${expense.amount}" placeholder="Enter amount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="editExpenseCategory">Category</label>
                    <select id="editExpenseCategory" required>
                        <option value="Food & Dining" ${expense.category === 'Food & Dining' ? 'selected' : ''}>Food & Dining</option>
                        <option value="Transportation" ${expense.category === 'Transportation' ? 'selected' : ''}>Transportation</option>
                        <option value="Shopping" ${expense.category === 'Shopping' ? 'selected' : ''}>Shopping</option>
                        <option value="Entertainment" ${expense.category === 'Entertainment' ? 'selected' : ''}>Entertainment</option>
                        <option value="Bills & Utilities" ${expense.category === 'Bills & Utilities' ? 'selected' : ''}>Bills & Utilities</option>
                        <option value="Healthcare" ${expense.category === 'Healthcare' ? 'selected' : ''}>Healthcare</option>
                        <option value="Travel" ${expense.category === 'Travel' ? 'selected' : ''}>Travel</option>
                        <option value="Education" ${expense.category === 'Education' ? 'selected' : ''}>Education</option>
                        <option value="Movies" ${expense.category === 'Movies' ? 'selected' : ''}>Movies</option>
                        <option value="Housing" ${expense.category === 'Housing' ? 'selected' : ''}>Housing</option>
                        <option value="Personal Care" ${expense.category === 'Personal Care' ? 'selected' : ''}>Personal Care</option>
                        <option value="Gifts & Donations" ${expense.category === 'Gifts & Donations' ? 'selected' : ''}>Gifts & Donations</option>
                        <option value="Other" ${expense.category === 'Other' ? 'selected' : ''}>Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editExpenseDate">Date</label>
                    <input type="date" id="editExpenseDate" value="${expense.date}" required>
                </div>
                <div class="edit-form-buttons">
                    <button type="button" class="btn btn-update" onclick="updateExpense()">Update Expense</button>
                    <button type="button" class="btn btn-cancel" onclick="cancelEdit()">Cancel</button>
                </div>
            `;
            
            document.getElementById('editExpenseForm').innerHTML = editFormHTML;
            document.getElementById('editExpenseSection').style.display = 'block';
            document.getElementById('editExpenseSection').scrollIntoView({ behavior: 'smooth' });
        }
        function updateExpense() {
            if (editingIndex === -1) return;
            
            const name = document.getElementById('editExpenseName').value;
            const amount = document.getElementById('editExpenseAmount').value;
            const category = document.getElementById('editExpenseCategory').value;
            const date = document.getElementById('editExpenseDate').value;
            
            expenses[editingIndex] = {
                name,
                amount,
                category,
                date
            };
            
            localStorage.setItem('expenses', JSON.stringify(expenses));
            displayExpenses();
            cancelEdit();
            
            alert('Expense updated successfully!');
        }
        function cancelEdit() {
            editingIndex = -1;
            document.getElementById('editExpenseSection').style.display = 'none';
        }
        function deleteExpense(index) {
            if (confirm('Are you sure you want to delete this expense?')) {
                expenses.splice(index, 1);
                localStorage.setItem('expenses', JSON.stringify(expenses));
                displayExpenses();
                if (index === editingIndex) {
                    cancelEdit();
                }
            }
        }
        updateDateTime();
        displayExpenses();
        setInterval(updateDateTime, 60000);
    </script>
</body>
</html>